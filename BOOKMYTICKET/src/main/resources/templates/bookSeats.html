<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/style.css" />
    <title>Movie Seat Booking</title>
    <style>
        body {
              background: var(--bggradient);
              color: #fff;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              height: 100vh;
              font-family: "Lato", sans-serif;
              margin: 0;
            }
            .hidden{
                display:none;
            }
    </style>
</head>
<body>

<div class="movie-container">
    <h3 th:text="${userName}"></h3>
    <label> Selected a movie:</label>
        <span th:text="${shows.movie.movieName}"></span>
    <br>
    <label> Ticket Price:</label>
        <span th:text="${shows.ticketPrice}" id="movie"></span>
</div>

<ul class="showcase">
    <li>
        <div class="seat"></div>
        <small>Available</small>
    </li>
    <li>
        <div class="seat selected"></div>
        <small>Selected</small>
    </li>
    <li>
        <div class="seat sold"></div>
        <small>Sold</small>
    </li>
</ul>
<div class="container">
    <div class="screen"></div>

    <div class="row">
        <div id="1" class="seat"></div>
        <div id="2" class="seat"></div>
        <div id="3" class="seat"></div>
        <div id="4" class="seat"></div>
        <div id="5" class="seat"></div>
        <div id="6" class="seat"></div>
        <div id="7" class="seat"></div>
        <div id="8" class="seat"></div>
    </div>

    <div class="row">
        <div id="9" class="seat"></div>
        <div id="10" class="seat"></div>
        <div id="11" class="seat"></div>
        <div id="12" class="seat"></div>
        <div id="13" class="seat"></div>
        <div id="14" class="seat"></div>
        <div id="15" class="seat"></div>
        <div id="16" class="seat"></div>
    </div>
    <div class="row">
        <div id="17" class="seat"></div>
        <div id="18" class="seat"></div>
        <div id="19" class="seat"></div>
        <div id="20" class="seat"></div>
        <div id="21" class="seat"></div>
        <div id="22" class="seat"></div>
        <div id="23" class="seat"></div>
        <div id="24" class="seat"></div>
    </div>
    <div class="row">
        <div id="25" class="seat"></div>
        <div id="26" class="seat"></div>
        <div id="27" class="seat"></div>
        <div id="28" class="seat"></div>
        <div id="29" class="seat"></div>
        <div id="30" class="seat"></div>
        <div id="31" class="seat"></div>
        <div id="32" class="seat"></div>
    </div>
    <div class="row">
        <div id="33" class="seat"></div>
        <div id="34" class="seat"></div>
        <div id="35" class="seat"></div>
        <div id="36" class="seat"></div>
        <div id="37" class="seat"></div>
        <div id="38" class="seat"></div>
        <div id="39" class="seat"></div>
        <div id="40" class="seat"></div>
    </div>
    <div class="row">
        <div id="41" class="seat"></div>
        <div id="42" class="seat"></div>
        <div id="43" class="seat"></div>
        <div id="44" class="seat"></div>
        <div id="45" class="seat"></div>
        <div id="46" class="seat"></div>
        <div id="47" class="seat"></div>
        <div id="48" class="seat"></div>
    </div>
</div>

<p class="text">
    You have selected <span id="count">0</span> seat for a price of RS.<span
        id="total"
>0</span
>
</p>

<form action="/confirmBooking" method="post">
    <input type="text" name="username" class="hidden" th:value="${userName}">
    <input id="seats" type="text" name="seats" class="hidden">
    <input id="totalSeats" type="text" name="totalSeats" class="hidden">
    <input id="ticketPrice" type="text" name="ticketPrice" class="hidden">

    <input type="text" name="show" class="hidden" th:value="${shows.id}">

    <button id="confirmButton">Confirm</button>
</form>

<script th:inline="javascript">
/*<![CDATA[*/

    var bookedSeats = /*[[${bookedSeats}]]*/ 'default';
    for(i in bookedSeats){
        let seat = parseInt(bookedSeats[i])
        var element = document.getElementById(seat);
        element.classList.add("sold");
    }

/*]]>*/
</script>
<script src="/script.js">
</script>
</body>
</html>